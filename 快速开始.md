# âš¡ å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### æ­¥éª¤ 1ï¼šå‡†å¤‡å·¥ä½œ

ç¡®ä¿ä½ æœ‰ï¼š
- âœ… Cloudflare è´¦å·
- âœ… ä¸€ä¸ªæ‰˜ç®¡åœ¨ Cloudflare çš„åŸŸåï¼ˆä¾‹å¦‚ï¼š`yourdomain.com`ï¼‰
- âœ… QQ é‚®ç®±è´¦å·
- âœ… Node.js 18+ å’Œ npm

---

### æ­¥éª¤ 2ï¼šè·å– Cloudflare å‡­è¯

#### 2.1 è·å– API Token
1. è®¿é—®ï¼šhttps://dash.cloudflare.com/profile/api-tokens
2. ç‚¹å‡» **Create Token**
3. é€‰æ‹© **Custom Token**
4. è®¾ç½®æƒé™ï¼š
   - Zone - Email Routing Rules - Edit
   - Zone - Zone - Read
5. **å¤åˆ¶å¹¶ä¿å­˜** API Token

#### 2.2 è·å– Zone ID
1. ç™»å½• Cloudflare Dashboard
2. é€‰æ‹©ä½ çš„åŸŸå
3. åœ¨å³ä¾§æ æ‰¾åˆ° **Zone ID**
4. **å¤åˆ¶å¹¶ä¿å­˜**

#### 2.3 è·å– Account ID
1. åœ¨åŒä¸€é¡µé¢å³ä¾§æ 
2. æ‰¾åˆ° **Account ID**
3. **å¤åˆ¶å¹¶ä¿å­˜**

---

### æ­¥éª¤ 3ï¼šå¯ç”¨ Email Routing

1. åœ¨ Cloudflare Dashboard ä¸­é€‰æ‹©ä½ çš„åŸŸå
2. è¿›å…¥ **Email** > **Email Routing**
3. ç‚¹å‡» **Get Started**
4. æ·»åŠ ç›®æ ‡åœ°å€ï¼ˆä½ çš„ QQ é‚®ç®±ï¼‰
5. éªŒè¯é‚®ç®±ï¼ˆæ‰“å¼€ QQ é‚®ç®±ç‚¹å‡»éªŒè¯é“¾æ¥ï¼‰
6. å®Œæˆè®¾ç½®

---

### æ­¥éª¤ 4ï¼šä¸€é”®éƒ¨ç½²

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/tempemail.git
cd tempemail

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x deploy.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy.sh
```

æŒ‰ç…§æç¤ºï¼š
1. é€‰æ‹© **é€‰é¡¹ 1**ï¼ˆå®Œæ•´éƒ¨ç½²ï¼‰
2. è¾“å…¥ä½ çš„é…ç½®ä¿¡æ¯
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# 2. å®‰è£… Workers ä¾èµ–
cd ../workers
npm install

# 3. åˆ›å»º D1 æ•°æ®åº“
npx wrangler d1 create tempemail

# è¾“å‡ºç¤ºä¾‹ï¼š
# database_id = "abc-123-def"

# 4. å°† database_id å¡«å…¥ workers/wrangler.toml
# ç¼–è¾‘ wrangler.tomlï¼Œæ‰¾åˆ°ï¼š
# database_id = "your-database-id-here"
# æ›¿æ¢ä¸ºå®é™…çš„ database_id

# 5. åˆå§‹åŒ–æ•°æ®åº“
npx wrangler d1 execute tempemail --file=schema.sql

# 6. é…ç½®ç¯å¢ƒå˜é‡
cp env.example .dev.vars
# ç¼–è¾‘ .dev.varsï¼Œå¡«å…¥ä½ çš„é…ç½®

# 7. éƒ¨ç½² Worker
npx wrangler deploy

# 8. é…ç½® Email Worker
# åœ¨ Cloudflare Dashboard:
# Email Routing > Email Workers > Add Route
# é€‰æ‹©åˆšéƒ¨ç½²çš„ Worker

# 9. æ„å»ºå¹¶éƒ¨ç½²å‰ç«¯
cd ../frontend
npm run build
npx wrangler pages deploy dist --project-name=tempemail
```

---

### æ­¥éª¤ 5ï¼šé…ç½®ç³»ç»Ÿ

è®¿é—®ä½ çš„åº”ç”¨ï¼ˆCloudflare Pages ä¼šç»™ä½ ä¸€ä¸ªURLï¼‰ã€‚

åœ¨ç³»ç»Ÿé…ç½®é¡µé¢å¡«å…¥ï¼š
- Cloudflare API Token
- Zone ID
- Account ID
- åŸŸåï¼ˆyourdomain.comï¼‰
- ç›®æ ‡ QQ é‚®ç®±

---

### æ­¥éª¤ 6ï¼šå¼€å§‹ä½¿ç”¨ï¼

1. ç‚¹å‡» **ç”Ÿæˆé‚®ç®±**
2. ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºä¸´æ—¶é‚®ç®±ï¼ˆä¾‹å¦‚ï¼š`temp_abc123@yourdomain.com`ï¼‰
3. é‚®ç®±åœ°å€è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿
4. ä½¿ç”¨è¿™ä¸ªä¸´æ—¶é‚®ç®±æ³¨å†Œä»»ä½•æœåŠ¡
5. é‚®ä»¶è‡ªåŠ¨è½¬å‘åˆ°ä½ çš„ QQ é‚®ç®±
6. ç³»ç»Ÿè‡ªåŠ¨æå–éªŒè¯ç å¹¶æ˜¾ç¤º

---

## ğŸ” éªŒè¯éƒ¨ç½²

### æµ‹è¯•é‚®ä»¶æ¥æ”¶

1. ç”Ÿæˆä¸€ä¸ªä¸´æ—¶é‚®ç®±
2. ç»™è¿™ä¸ªé‚®ç®±å‘é€æµ‹è¯•é‚®ä»¶
3. æ£€æŸ¥ï¼š
   - âœ… QQ é‚®ç®±æ”¶åˆ°é‚®ä»¶
   - âœ… ç³»ç»Ÿç•Œé¢æ˜¾ç¤ºé‚®ä»¶
   - âœ… éªŒè¯ç è¢«æ­£ç¡®æå–

### æ£€æŸ¥ Cloudflare è§„åˆ™

1. è¿›å…¥ Cloudflare Dashboard
2. Email Routing > Email Rules
3. åº”è¯¥èƒ½çœ‹åˆ°è‡ªåŠ¨åˆ›å»ºçš„è½¬å‘è§„åˆ™

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æ•°æ®åº“åˆ›å»ºå¤±è´¥

**A:** ç¡®ä¿å·²å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Wranglerï¼š
```bash
npm install -g wrangler@latest
wrangler login
```

### Q2: Email Worker æ²¡æœ‰è§¦å‘

**A:** æ£€æŸ¥ï¼š
1. Email Routing æ˜¯å¦å·²å¯ç”¨
2. Email Worker è·¯ç”±æ˜¯å¦å·²é…ç½®
3. æŸ¥çœ‹ Workers æ—¥å¿—ï¼š`wrangler tail`

### Q3: å‰ç«¯æ— æ³•è¿æ¥åç«¯

**A:** ç¡®è®¤ï¼š
1. Workers å·²æˆåŠŸéƒ¨ç½²
2. å‰ç«¯ `.env` æ–‡ä»¶ä¸­çš„ API åœ°å€æ­£ç¡®
3. CORS å·²æ­£ç¡®é…ç½®

---

## ğŸ“± æœ¬åœ°å¼€å‘

å¦‚æœæƒ³åœ¨æœ¬åœ°å¼€å‘å’Œæµ‹è¯•ï¼š

```bash
# ç»ˆç«¯ 1ï¼šå¯åŠ¨ Workers
cd workers
npm run dev

# ç»ˆç«¯ 2ï¼šå¯åŠ¨å‰ç«¯
cd frontend
npm run dev
```

è®¿é—®ï¼šhttp://localhost:5173

**æ³¨æ„**ï¼šæœ¬åœ°å¼€å‘æ—¶é‚®ä»¶åŠŸèƒ½éœ€è¦å®é™…éƒ¨ç½²çš„ Email Workerï¼Œå› ä¸º IMAP éœ€è¦å…¬ç½‘è®¿é—®ã€‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯»å®Œæ•´çš„ [README.md](./README.md)
- ğŸ”§ æŸ¥çœ‹ [éœ€æ±‚åˆ†æ.md](./éœ€æ±‚åˆ†æ.md)
- ğŸ“Š äº†è§£ [é¡¹ç›®ç»“æ„.md](./é¡¹ç›®ç»“æ„.md)
- ğŸš€ å¼€å§‹ä½¿ç”¨ä¸´æ—¶é‚®ç®±ç³»ç»Ÿ

---

## ğŸ’¡ æç¤º

### æˆæœ¬é¢„ä¼°
ä½¿ç”¨ Cloudflare å…è´¹å¥—é¤ï¼š
- âœ… å‰ç«¯æ‰˜ç®¡ï¼šå…è´¹
- âœ… Workersï¼šå…è´¹ï¼ˆ10ä¸‡æ¬¡è¯·æ±‚/å¤©ï¼‰
- âœ… D1 æ•°æ®åº“ï¼šå…è´¹ï¼ˆ5GBå­˜å‚¨ï¼‰
- âœ… Email Routingï¼šå…è´¹ï¼ˆ200æ¡è§„åˆ™ï¼‰

**æ€»æˆæœ¬ï¼š$0/æœˆ** ğŸ‰

### æ€§èƒ½ä¼˜åŒ–
- Cloudflare å…¨çƒ CDN åŠ é€Ÿ
- Workers è¾¹ç¼˜è®¡ç®—ï¼ˆä½å»¶è¿Ÿï¼‰
- å®æ—¶ WebSocket æ¨é€
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–

### å®‰å…¨æ€§
- æ‰€æœ‰æ•æ„Ÿé…ç½®å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡
- API Token ä¸æš´éœ²ç»™å‰ç«¯
- æ”¯æŒè‡ªåŠ¨æ¸…ç†è¿‡æœŸé‚®ä»¶

---

éœ€è¦å¸®åŠ©ï¼Ÿ
- ğŸ“ [æäº¤ Issue](https://github.com/yourusername/tempemail/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/yourusername/tempemail/discussions)

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

